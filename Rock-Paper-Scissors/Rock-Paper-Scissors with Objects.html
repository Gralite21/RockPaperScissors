<!DOCTYPE html>
<html lang="en">
<head>
  <title>RockPaperScissor</title>
</head>
<body>
<p>Rock Paper Scissors</p>

<button onclick="
    playGame('Rock');
  ">Rock</button>

<button onclick="
    playGame('Paper');
  ">Paper</button>

<button onclick="
    playGame('Scissors');
  ">Scissors</button>

<button onclick="
    score.Wins = 0 ;
    score.Losses = 0 ;
    score.Ties = 0 ;
    localStorage.removeItem('score');                             // Resets the localStorage ==> Score
    alert('Score has been reset');
  ">Reset Score</button>

<script>
  let score =                                             // score value
    JSON.parse(localStorage.getItem('score'));            // gets the score value out the storage... so it will be
  if (score===null){                                     // When score doesnt have a value (null) we give score a default value
    score= {
    Wins : 0,
    Losses: 0,
    Ties: 0
    };
  }

  console.log(JSON.parse(localStorage.getItem('score')));           // shows the permanently score in the Console


  function playGame (playerMove){
    const computerMove = pickComputerMove();
    let result = '';

    if (playerMove === 'Scissors'){
      if(computerMove==='Rock'){
        result = 'Lose';
      }
      else if (computerMove==='Paper'){
        result = 'Win';
      }
      else if (computerMove==='Scissors'){
        result = 'Tie';
      }}

    else if(playerMove === 'Paper'){
      if(computerMove==='Rock'){
        result = 'Win';
      }
      else if (computerMove==='Paper'){
        result = 'Tie';
      }
      else if (computerMove==='Scissors'){
        result = 'Lose';
      }
    }

    else if (playerMove ==='Rock'){
      if(computerMove==='Rock'){
        result = 'Tie';
      }
      else if (computerMove==='Paper'){
        result = 'Lose';
      }
      else if (computerMove==='Scissors'){
        result = 'Win';
      }
    }

    if (result === 'Win'){                            // score update
      score.Wins += 1 ;
    } else if (result === 'Lose'){
      score.Losses += 1;
    } else if(result === 'Tie') {
      score.Ties += 1;
    }

    localStorage.setItem('score', JSON.stringify(score));                        // saves the score value into a string


    alert(`You picked ${playerMove}. Computer picked ${computerMove}. You ${result}
Wins: ${score.Wins}  Losses: ${score.Losses}  Ties:${score.Ties}`);                        // Shows the all-time score by the Player
  }

  /*let computerMove = ''; */ //Can also be put up here

  function pickComputerMove(){
    const randomNumber = (Math.random());

    let computerMove = ''

    if (randomNumber >=0 && randomNumber <1/3){
      computerMove = 'Rock';
    }
    else if (randomNumber >=1/3 && randomNumber <2/3){
      computerMove = 'Paper';
    }
    else if (randomNumber >= 2/3 && randomNumber <1)
    {computerMove = 'Scissors';
    }

    return computerMove;
  }
</script>
</body>
</html>